Radar2450 Library - Function Reference
=======================================

CLASS: Radar2450
=================

CONSTRUCTOR:

Radar2450()

Creates a new radar instance

INITIALIZATION:

bool begin(int rx_pin, int tx_pin, bool debug = false)

Initialize radar with pin numbers (ESP32 only)

Returns: true on success, false on failure

Parameters:

rx_pin: GPIO for radar TX (ESP32: 16, 17, etc.)

tx_pin: GPIO for radar RX

debug: Enable debug messages (default: false)

bool begin(HardwareSerial& serial_port, bool debug = false)

Initialize with existing HardwareSerial

Returns: true on success, false on failure

DATA UPDATE:

int update()

Update radar data (call in loop)

Returns: Number of targets detected in this cycle

Note: Should be called at ~20Hz (delay 50ms)

CONFIGURATION:

void setMaxDistance(float max_distance_m)

Set maximum detection distance

Range: 0.1 to 10.0 meters

Default: 8.0 meters

void setSmoothingFactor(float alpha)

Set exponential smoothing factor

Range: 0.01 (heavy smoothing) to 0.99 (light smoothing)

Default: 0.15

Formula: new_value = alpha * raw + (1-alpha) * previous

void setMaxTargets(int max_targets)

Set maximum number of targets to track

Range: 1 to 10

Default: 10

void setAngleLimits(float min_angle, float max_angle)

Set field of view limits

Range: -90° to 90°

Default: -60° to 60°

TARGET INFORMATION (ACTIVE TARGETS):

int getActiveTargetCount()

Get number of currently active targets

Returns: 0 to maxTargets

int getTargetID(int target_index)

Get ID of target (targets sorted by distance)

Parameter: target_index (1 = closest, 2 = second, etc.)

Returns: Target ID or -1 if not found

float getTargetDistance(int target_index)

Get distance to target in meters

Returns: Distance or 0 if not found

float getTargetAngle(int target_index)

Get angle of target in degrees

Returns: Angle (-180° to 180°) or 0 if not found

float getTargetX(int target_index)

Get X coordinate in meters

Returns: X coordinate or 0

float getTargetY(int target_index)

Get Y coordinate in meters

Returns: Y coordinate or 0

float getTargetSpeed(int target_index)

Get target speed in m/s

Returns: Speed or 0

float getTargetSpeedKmh(int target_index)

Get target speed in km/h

Returns: Speed or 0

bool getTargetMoving(int target_index)

Check if target is moving

Returns: true if moving, false if stationary

RAW DATA ACCESS (BY ARRAY INDEX):

int getRawTargetID(int array_index)

Get target ID by array index (0-9)

Returns: ID or -1

float getRawTargetDistance(int array_index)
float getRawTargetAngle(int array_index)
float getRawTargetX(int array_index)
float getRawTargetY(int array_index)
float getRawTargetSpeed(int array_index)
float getRawTargetSpeedKmh(int array_index)
bool getRawTargetMoving(int array_index)

Get raw data by array index

UTILITY FUNCTIONS:

void printDebugInfo(Stream& stream = Serial)

Print detailed debug information

float getUpdateRateHz()

Get current update rate in Hz

void reset()

Reset all targets and counters

LD2450* getRadar()

Get pointer to underlying LD2450 object

For advanced users only

TARGET TRACKING BEHAVIOR:

Each target gets a unique ID when first detected

Targets are tracked by position (0.5m radius)

Inactive targets are removed after 3 seconds

Coordinates are exponentially smoothed

Targets sorted by distance (closest first)

SMOOTHING ALGORITHM:

smoothed_value = alpha * raw_value + (1 - alpha) * previous_smoothed

Where:
alpha = smoothing factor (0.01-0.99)
Lower alpha = more smoothing, slower response
Higher alpha = less smoothing, faster response

RECOMMENDED VALUES:

Presence detection: alpha = 0.1

Motion tracking: alpha = 0.2-0.3

Fast response: alpha = 0.4-0.5

ERROR HANDLING:

All getter functions return safe defaults on error

update() returns 0 if not initialized

begin() returns false on connection failure

PERFORMANCE:

Update rate: ~20Hz (recommended)

Memory usage: ~400 bytes for target data

Processing time: < 5ms per update

COMPATIBILITY:

Primary: ESP32

Secondary: ESP8266 (with limitations)

Requires: HLK-LD2450 library by RBEGamer

text
